<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ‚ù§Ô∏è</title>

<style>
  body {
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    position: relative;
  }

  /* Floating sparkles */
  .sparkle {
    position: absolute;
    width: 6px;
    height: 6px;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
    animation: sparkle 3s linear infinite;
  }

  @keyframes sparkle {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(-200px); opacity: 0; }
  }

  /* Falling hearts */
  .heartFall {
    position: absolute;
    top: -20px;
    font-size: 25px;
    animation: fall 4s linear infinite;
    opacity: 0.8;
  }

  @keyframes fall {
    from { transform: translateY(0); }
    to { transform: translateY(110vh); }
  }

  /* Envelope Container */
  .envelope-container {
    position: relative;
    width: 300px;
    cursor: pointer;
  }

  .envelope {
    width: 100%;
    height: 200px;
    background: #fff;
    border-radius: 10px;
    overflow: hidden;
    position: relative;
    box-shadow: 0 20px 40px rgba(0,0,0,0.25);
  }

  .flap {
    width: 100%;
    height: 100%;
    background: #e75480;
    clip-path: polygon(0 0, 100% 0, 50% 70%);
    position: absolute;
    top: 0;
    left: 0;
    transform-origin: top;
    transition: 0.8s ease;
  }

  .open .flap {
    transform: rotateX(180deg);
  }

  /* Card slide up */
  .card {
    background: white;
    width: 260px;
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    position: absolute;
    top: 140px;
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    transition: 1s ease;
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
  }

  .open .card {
    top: -40px;
    opacity: 1;
  }

  h1 { color: #e75480; margin-bottom: 10px; }
  button {
    margin-top: 15px;
    padding: 10px 18px;
    border: none;
    border-radius: 20px;
    background: #e75480;
    color: white;
    cursor: pointer;
    transition: .2s;
  }
  button:hover { transform: scale(1.08); background: #d64570; }

  .heart {
    font-size: 40px;
    animation: beat 1s infinite;
    margin-top: 15px;
    display: none;
  }

  @keyframes beat {
    0%,100%{transform:scale(1);}
    50%{transform:scale(1.2);}
  }
</style>
</head>
<body>

<!-- Background Music -->
<audio id="bgMusic" src="https://cdn.pixabay.com/audio/2022/03/15/audio_4d54f44fa5.mp3"></audio>

<!-- Falling Hearts + Sparkles -->
<div id="effects"></div>

<!-- Envelope -->
<div class="envelope-container" onclick="openEnvelope()">
  <div class="envelope"><div class="flap"></div></div>

  <div class="card" id="card">
    <h1>Hi Love ‚ù§Ô∏è</h1>
    <p id="message">Click next to begin...</p>
    <button onclick="nextMessage(event)">Next</button>
    <div id="finalHeart" class="heart">üíñ</div>
  </div>
</div>

<script>
/* Envelope Action + Music + Confetti */
function openEnvelope(){
  document.querySelector(".envelope-container").classList.add("open");

  // play music
  const music = document.getElementById("bgMusic");
  music.volume = 0.5;
  music.play();

  // confetti
  for(let i=0;i<80;i++){
    let conf = document.createElement("div");
    conf.textContent = "üéâ";
    conf.style.position="absolute";
    conf.style.left=Math.random()*100+"vw";
    conf.style.top=Math.random()*100+"vh";
    conf.style.fontSize="18px";
    conf.style.animation=`fall ${3+Math.random()*2}s linear infinite`;
    document.body.appendChild(conf);
  }

  // falling hearts + sparkles
  createEffects();
}

// Text Typing Effect
const messages = [
  "Thank you for staying with me throughout 2025.",
  "Even when I failed or lacked things, you still chose me.",
  "You understood, forgave, stayed, and loved me.",
  "And that's something I'm truly grateful for.",
  "I appreciate you more than words could ever say. üíó"
];

let index = 0;
function nextMessage(e){
  e.stopPropagation();
  const msg = document.getElementById("message");
  const finalHeart = document.getElementById("finalHeart");

  if(index < messages.length){
    typeWriter(messages[index], msg);
    index++;
  } else {
    finalHeart.style.display = "block";
  }
}

function typeWriter(text, element){
  element.textContent = "";
  let i = 0;
  let speed = 40;
  let typing = setInterval(()=>{
    element.textContent += text[i];
    i++;
    if(i === text.length) clearInterval(typing);
  }, speed);
}

// Hearts + Sparkles generator
function createEffects(){
  const effects = document.getElementById("effects");
  setInterval(()=>{
    let h = document.createElement("div");
    h.textContent="üíó";
    h.className="heartFall";
    h.style.left=Math.random()*100+"vw";
    h.style.animationDuration=(3+Math.random()*2)+"s";
    effects.appendChild(h);
    setTimeout(()=>h.remove(),5000);
  },300);

  setInterval(()=>{
    let s = document.createElement("div");
    s.className="sparkle";
    s.style.left=Math.random()*100+"vw";
    s.style.top=Math.random()*100+"vh";
    effects.appendChild(s);
    setTimeout(()=>s.remove(),3000);
  },200);
}
</script>

</body>
</html>   let step = 0;

    function nextStep() {
      const msg = document.getElementById('message');
      const heart = document.getElementById('heart');
      const gallery = document.getElementById('gallery');
      const final = document.getElementById('final');
      const btn = document.getElementById('btn');
      const bgm = document.getElementById('bgm');

      // Start music on first click (browser-safe)
      if (step === 0) {
        bgm.currentTime = 0;
        bgm.muted = false;
        bgm.volume = 1;
        bgm.play().catch(() => {});
      }

      if (step < messages.length) {
        msg.textContent = messages[step];
        step++;
        return;
      }

      if (step === messages.length) {
        gallery.classList.remove('hidden');
        msg.textContent = 'MISS YOU SOBRA.';
        step++;
        return;
      }

      if (step === messages.length + 1) {
        heart.classList.remove('hidden');
        msg.textContent = 'More years to us together :)).';
        step++;
        return;
      }

      msg.classList.add('hidden');
      btn.classList.add('hidden');
      final.classList.remove('hidden');
    }
  </script>
</body>
</html>





